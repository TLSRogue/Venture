// /data/spells.js
export const allSpells = [
    {
        name: "Punch",
        cost: 1,
        cooldown: 1,
        school: "Physical",
        description: "D20+Str, 10+ deals 1 damage",
        type: "attack",
        stat: "strength",
        damage: 1,
        hit: 10,
        damageType: 'Physical',
        icon: "üëä",
        rarity: "common",
    },
    {
        name: "Kick",
        cost: 1,
        cooldown: 1,
        school: "Physical",
        description: "D20+Agi, 10+ deals 1 damage",
        type: "attack",
        stat: "agility",
        damage: 1,
        hit: 10,
        damageType: 'Physical',
        icon: "ü¶∂",
        rarity: "common",
    },
    {
        name: "Dodge",
        cooldown: 2,
        school: "Physical",
        description: "Quickly leap out of harm's way. Less effective when you're clanking around in heavy armor.",
        type: "reaction",
        stat: "agility",
        hit: 10,
        icon: "ü§∏",
        rarity: "common",
    },
    {
        name: "Fireball",
        price: 100,
        cost: 1,
        cooldown: 2,
        school: "Fire",
        description: "Hurl a blazing sphere of fire that explodes on impact, engulfing enemies in searing flames.",
        type: "attack",
        stat: "wisdom",
        hit: 10,
        damageType: 'Fire',
        debuff: { type: 'burn', duration: 1, damage: 2, damageType: 'Fire' },
        icon: "üî•",
        rarity: "uncommon",
    },
    {
        name: "Flash Heal",
        price: 100,
        cost: 1,
        cooldown: 2,
        school: "Holy",
        description: "D20+Wis, 15+ heals you for 3 HP.",
        type: "heal",
        stat: "wisdom",
        heal: 3,
        hit: 10,
        icon: "‚ú®",
        rarity: "uncommon",
    },
    {
        name: "Holy Shock",
        price: 100,
        cost: 1,
        cooldown: 1,
        school: "Holy",
        description: "D20+Wis (15+) Heal 1+Wis if target is friendly, or deal 1+Wis Holy Damage if target is an enemy.",
        type: "versatile",
        stat: "wisdom",
        baseEffect: 1,
        damageType: 'Holy',
        hit: 10,
        icon: "‚ö°",
        rarity: "uncommon",
    },
    {
        name: "Shield Bash",
        price: 100,
        cost: 1,
        cooldown: 3,
        school: "Physical",
        description: "Requires Shield. D20+Str, 15+ deals 2 damage and Stuns the target.",
        type: "attack",
        stat: "strength",
        damage: 2,
        hit: 10,
        damageType: 'Physical',
        debuff: { type: 'stun', duration: 1 },
        requires: { weaponType: ["Shield"] },
        icon: "üõ°Ô∏è",
        rarity: "uncommon",
    },
    // --- UPDATED AIM TRUE ---
    {
        name: "Aim True",
        price: 100,
        cost: 1,
        cooldown: 3,
        school: "Physical",
        description: "Carefully line up a precise shot that, on impact, not only strikes with deadly accuracy but also stuns the target.",
        type: "attack",
        stat: "agility",
        hit: 10,
        damageType: 'Physical',
        onHit: { threshold: 15, debuff: { type: 'stun', duration: 1 } },
        requires: { weaponType: ["Two-Hand Bow"] },
        icon: "üéØ",
        rarity: "uncommon",
    },
    {
        name: "Flame Strike",
        price: 100,
        cost: 1,
        cooldown: 4,
        school: "Fire",
        description: "Call down a pillar of divine fire, scorching all foes within its fiery radius.",
        type: "aoe",
        stat: "wisdom",
        hit: 10,
        damageType: 'Fire',
        debuff: { type: 'burn', duration: 1, damage: 2, damageType: 'Fire' },
        icon: "üí•",
        rarity: "rare",
    },
    {
        name: "Stealth",
        cost: 1,
        cooldown: 3,
        school: "Physical",
        description: "D20+Agi, 15+ gain Stealth until your next turn.",
        type: "buff",
        stat: "agility",
        hit: 10,
        buff: { type: 'Stealth', duration: 2 },
        icon: "ü§´",
        rarity: "rare", // Quest reward
    },
    { 
        name: "Warrior's Might", 
        price: 100,
        cost: 1, 
        cooldown: 3, 
        school: "Physical", 
        description: "Let out a fierce shout that draws enemy attention and surges your strength for a short time.", 
        type: "buff", 
        bonusThreat: 2,
        stat: ['strength', 'defense'],
        hit: 10, 
        buff: { type: "Warrior's Might", duration: 2, bonus: { strength: 2, defense: 2 } }, 
        icon: "üí™",
        rarity: "uncommon",
    },
    {
        name: "Ambush",
        price: 100,
        cost: 1,
        cooldown: 3,
        school: "Physical",
        description: "Requires Dagger(s). D20+Agi, 15+ deal weapon damage with all equipped daggers and apply Bleed for 1 turn per dagger.",
        type: "attack",
        stat: "agility",
        hit: 10,
        requires: { weaponType: ["Dagger"] },
        icon: "üó°Ô∏è",
        rarity: "uncommon",
    },
    {
        name: "Dagger Throw",
        price: 100,
        cost: 1,
        cooldown: 3,
        school: "Physical",
        description: "Requires Main-Hand Dagger. D20+Agi, 15+ deal main-hand weapon damage + 2. Ranged.",
        type: "attack",
        stat: "agility",
        hit: 10,
        requires: { weaponType: ["Dagger"], hand: "mainHand" },
        damageBonus: 2,
        icon: "üî™",
        rarity: "uncommon",
    },
    {
        name: "Magic Barrier",
        price: 100,
        cost: 1,
        cooldown: 3,
        school: "Arcane",
        description: "D20+Wisdom. On 15+, gain a shield equal to your Wisdom+1 for 3 turns.",
        type: "buff",
        stat: "wisdom",
        hit: 10,
        buff: { type: 'Magic Barrier', duration: 4, shield: 'wisdom' },
        icon: "üí†",
        rarity: "uncommon",
    },
    {
        name: "Crushing Blow",
        price: 100,
        cost: 1,
        cooldown: 3,
        school: "Physical",
        description: "Requires Mace. D20+Str, 15+ deal Main-Hand Mace Damage+2 and Daze.",
        type: "attack",
        stat: "strength",
        damageBonus: 2,
        hit: 10,
        damageType: 'Physical',
        requires: { weaponType: ["Mace", "Two-Hand Mace"], hand: "mainHand" },
        onHit: { debuff: { type: 'daze', duration: 2 } },
        icon: "üî®",
        rarity: "uncommon",
    },
    {
        name: "Monk's Training",
        price: 100,
        cost: 1,
        cooldown: 4,
        school: "Physical",
        description: "Passive: Unarmed attacks deal +1 damage and generate 1 Focus. Active: Spend all Focus to Heal(X) and get +(X) to all rolls this turn. X = Focus you had.",
        type: 'utility',
        stat: 'strength',
        hit: 10,
        icon: "üßò",
        rarity: "rare", // Quest reward
    },
    // --- UPDATED SPLIT SHOT ---
    {
        name: "Split Shot",
        price: 100,
        cost: 1,
        cooldown: 4, // Changed from 3
        school: "Physical",
        description: "Nock and fire multiple arrows at once, fanning out to hit several enemies in a single volley.",
        type: "aoe",
        stat: "agility",
        hit: 10, // Changed from 15
        damageType: 'Physical',
        requires: { weaponType: ["Two-Hand Bow"] },
        aoeTargeting: 'adjacent', // Changed from 'all' to match new description
        icon: "üèπ",
        rarity: "uncommon",
    },
    // --- NEW EVASIVE SHOT ---
    {
        name: "Evasive Shot",
	price: 100,
        cooldown: 2,
        school: "Physical",
        description: "The archer leaps back to evade an incoming strike, loosing an arrow mid-air at their attacker.",
        type: "reaction",
        stat: "agility",
        requires: { weaponType: ["Two-Hand Bow"] },
        reactionDetails: { // Custom property for reaction logic
            avoidHit: 10,
            counterHit: 15,
        },
        icon: "‚Ü™Ô∏èüèπ",
        rarity: "uncommon",
    }
];